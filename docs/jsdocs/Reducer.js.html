<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Reducer.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Plugin.html">Plugin</a></li></ul><h3>Namespaces</h3><ul><li><a href="Actions.html">Actions</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-getting_started.html">Getting Started</a></li></ul><h3>Global</h3><ul><li><a href="global.html#Factory">Factory</a></li><li><a href="global.html#MODULE_NAME">MODULE_NAME</a></li><li><a href="global.html#Reducer">Reducer</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">Reducer.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import Actions from './Actions';

/**
 * makeStoreToProps creates a store-to-props function in order to redux the component.  
 * 
 * @ignore
 * @param {string} reducerName The name of the reducer in the redux store.
 * @returns func The storeToProps function.
 */
export const makeStoreToProps = reducerName => {
    return ( { [reducerName] : reducer } ) => {
        return {
            connected : reducer.connected,
            scheduled : reducer.scheduled,
            stopped : reducer.stopped,
        };
    };
}

/**
 * @typedef {Object} ReducerState
 * @see {Reducer}
 * @property {boolean} connected `true` when the socket is connected.
 * @property {number} scheduled Timeout in milliseconds before `Socket.connect()` will be called;
 * 0 when `Socket.connect()` is not scheduled.
 * @property {boolean} stopped `true` when `Socket.stop()` has been called.
 */


const initState = {
    // true when socket is connected, false otherwise.
    connected : false,

    // timeout in milliseconds that socket is waiting to attempt to connect when retrying a failed connection.
    scheduled : 0,

    // true when socket has been stopped intentionally; false when connecting or connected.
    stopped : true,
};

/**
 * `Reducer` is the handler function for redux actions.
 * 
 * @see {ReducerState}
 * @param {object} state The current reducer state or init state.
 * @param {obejct} action The current action to process.
 */
const Reducer = ( state = initState, action ) => {
    switch( action.type ) {
        case Actions.Types.Connect: {
            const { socket } = action;
            return { ...state, connected : true, stopped : socket.stopped };
        }
        
        case Actions.Types.Disconnect: {
            const { socket } = action;
            return { ...state, connected : false, stopped : socket.stopped };
        }

        case Actions.Types.Scheduled: {
            const { scheduled } = action;
            return { ...state, scheduled };
        }

        default:
            return state;
    }
};

export default Reducer;</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.5</a> on Thu Sep 09 2021 11:31:00 GMT-0700 (Pacific Daylight Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>
